{"ast":null,"code":"var _jsxFileName = \"/Users/gautammali/Desktop/vendor-shop/client/src/components/AdminPanel/OrderCard.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction OrderCard({\n  order,\n  getUsersFunc\n}) {\n  _s();\n  var _labours$data;\n  const [labours, setLabours] = useState([]);\n  const labourSelectField = useRef();\n  const [loginStatus, setLoginStatus] = useState();\n  async function acceptOrders(orderid) {\n    await axios.post(process.env.REACT_APP_BASE_URL + '/auth/acceptorder', {\n      orderid\n    }).then(res => {\n      getUsersFunc();\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  async function getLaboursFunc() {\n    await axios.get(process.env.REACT_APP_BASE_URL + '/labour/labours').then(res => {\n      setLabours(res.data);\n    });\n  }\n  async function assignLabourFunc() {\n    await axios.post(process.env.REACT_APP_BASE_URL + '/auth/assignlabour', {\n      email: labourSelectField.current.value,\n      order\n    }).then(res => {\n      var _res$data;\n      setLoginStatus(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message);\n    }).catch(error => {\n      var _error$response, _error$response$data;\n      console.log(error);\n      setLoginStatus(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message);\n    });\n  }\n  useEffect(() => {\n    getLaboursFunc();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"option-main-outer-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-name-title\",\n      children: order === null || order === void 0 ? void 0 : order.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-email-title\",\n      children: [\"OrderID: \", order === null || order === void 0 ? void 0 : order.orderid]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-email-title\",\n      children: [\"User: \", order === null || order === void 0 ? void 0 : order.user]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-mobile-title\",\n      children: [\"Vendor: \", order === null || order === void 0 ? void 0 : order.vendor]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-mobile-title\",\n      children: [\"Qty: \", order === null || order === void 0 ? void 0 : order.qty]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-mobile-title\",\n      children: [\"Price: \", order === null || order === void 0 ? void 0 : order.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-mobile-title\",\n      children: [\"Status: \", order !== null && order !== void 0 && order.status ? \"Accepted\" : \"Pending\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), order !== null && order !== void 0 && order.labour ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !(order !== null && order !== void 0 && order.status) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => acceptOrders(order === null || order === void 0 ? void 0 : order.orderid),\n        className: \"order-accept-btn\",\n        children: \"Accept Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 43\n      }, this) : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        ref: labourSelectField,\n        className: \"dropdown-list\",\n        children: labours === null || labours === void 0 ? void 0 : (_labours$data = labours.data) === null || _labours$data === void 0 ? void 0 : _labours$data.map(elm => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: elm.email,\n          children: [elm.name, \", (\", elm.email, \")\"]\n        }, elm.email, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: assignLabourFunc,\n          className: \"order-accept-btn\",\n          children: \"Assign Labour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-status-div\",\n      children: loginStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, order === null || order === void 0 ? void 0 : order.orderid, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(OrderCard, \"PZlydlxLbuJvg2FUsmQyMCrSjlY=\");\n_c = OrderCard;\nexport default OrderCard;\nvar _c;\n$RefreshReg$(_c, \"OrderCard\");","map":{"version":3,"names":["useEffect","useRef","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderCard","order","getUsersFunc","_s","_labours$data","labours","setLabours","labourSelectField","loginStatus","setLoginStatus","acceptOrders","orderid","post","process","env","REACT_APP_BASE_URL","then","res","catch","error","console","log","getLaboursFunc","get","data","assignLabourFunc","email","current","value","_res$data","message","_error$response","_error$response$data","response","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","user","vendor","qty","price","status","labour","onClick","ref","map","elm","name","_c","$RefreshReg$"],"sources":["/Users/gautammali/Desktop/vendor-shop/client/src/components/AdminPanel/OrderCard.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './AdminPanel.css';\r\n\r\nfunction OrderCard({ order, getUsersFunc }) {\r\n\r\n    const [labours, setLabours] = useState([]);\r\n    const labourSelectField = useRef();\r\n    const [loginStatus, setLoginStatus] = useState();\r\n\r\n    async function acceptOrders(orderid) {\r\n        await axios.post(process.env.REACT_APP_BASE_URL + '/auth/acceptorder', { orderid }).then(res => {\r\n            getUsersFunc();\r\n        }).catch(error => { console.log(error) });\r\n\r\n    }\r\n\r\n    async function getLaboursFunc() {\r\n        await axios.get(process.env.REACT_APP_BASE_URL + '/labour/labours').then(res => {\r\n            setLabours(res.data);\r\n        })\r\n    }\r\n\r\n    async function assignLabourFunc() {\r\n        await axios.post(process.env.REACT_APP_BASE_URL + '/auth/assignlabour', { email: labourSelectField.current.value, order })\r\n            .then(res => {\r\n                setLoginStatus(res?.data?.message);\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                setLoginStatus(error?.response?.data?.message);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getLaboursFunc();\r\n    }, [])\r\n\r\n    return (\r\n        <div key={order?.orderid} className=\"option-main-outer-box\">\r\n            <div className=\"user-name-title\">{order?.title}</div>\r\n            <div className=\"user-email-title\">OrderID: {order?.orderid}</div>\r\n            <div className=\"user-email-title\">User: {order?.user}</div>\r\n            <div className=\"user-mobile-title\">Vendor: {order?.vendor}</div>\r\n            <div className=\"user-mobile-title\">Qty: {order?.qty}</div>\r\n            <div className=\"user-mobile-title\">Price: {order?.price}</div>\r\n            <div className=\"user-mobile-title\">Status: {order?.status ? \"Accepted\" : \"Pending\"}</div>\r\n            {\r\n                order?.labour ?\r\n                    <div>\r\n                        {!order?.status ? <button onClick={() => acceptOrders(order?.orderid)} className=\"order-accept-btn\">Accept Order</button> : \"\"}\r\n                    </div>\r\n                    :\r\n                    <>\r\n                        <select ref={labourSelectField} className=\"dropdown-list\">\r\n                            {labours?.data?.map((elm) => (\r\n                                <option key={elm.email} value={elm.email}>{elm.name}, ({elm.email})</option>\r\n                            ))}\r\n                        </select>\r\n                        <div>\r\n                            <button onClick={assignLabourFunc} className=\"order-accept-btn\">Assign Labour</button>\r\n                        </div>\r\n                    </>\r\n            }\r\n            <div className=\"login-status-div\">{loginStatus}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}